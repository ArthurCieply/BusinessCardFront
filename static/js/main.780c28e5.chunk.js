(this.webpackJsonpbusinesscardsfront=this.webpackJsonpbusinesscardsfront||[]).push([[1],{228:function(e,t,n){},308:function(e,t){},421:function(e,t,n){var a={"./amplify-amazon-button_5.entry.js":[454,5],"./amplify-auth-container.entry.js":[455,24],"./amplify-auth-fields_9.entry.js":[456,17],"./amplify-authenticator.entry.js":[457,0,25],"./amplify-button_3.entry.js":[458,26],"./amplify-chatbot.entry.js":[481,10],"./amplify-checkbox.entry.js":[459,27],"./amplify-confirm-sign-in_7.entry.js":[460,0,28],"./amplify-container.entry.js":[461,29],"./amplify-federated-buttons_2.entry.js":[462,6],"./amplify-federated-sign-in.entry.js":[463,18],"./amplify-form-field_4.entry.js":[464,7],"./amplify-greetings.entry.js":[465,8],"./amplify-icon-button.entry.js":[466,30],"./amplify-icon.entry.js":[467,21],"./amplify-link.entry.js":[468,31],"./amplify-nav_2.entry.js":[469,9],"./amplify-photo-picker.entry.js":[470,19],"./amplify-picker.entry.js":[471,20],"./amplify-radio-button_3.entry.js":[472,0,32],"./amplify-s3-album.entry.js":[473,11],"./amplify-s3-image-picker.entry.js":[474,12],"./amplify-s3-image.entry.js":[475,16],"./amplify-s3-text-picker.entry.js":[476,13],"./amplify-s3-text.entry.js":[477,14],"./amplify-select-mfa-type.entry.js":[478,15],"./amplify-sign-in-button.entry.js":[479,22],"./amplify-tooltip.entry.js":[480,33]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=421,e.exports=r},447:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(196),o=n.n(c),i=(n(228),n(28)),s=n(78),l=n(216),d=(n(113),{aws_project_region:"us-east-1",aws_cognito_identity_pool_id:"us-east-1:5f8ba98b-5afe-458c-abef-cf91ecd03496",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_yHJhy2Fkd",aws_user_pools_web_client_id:"7hst234l653lkphk0ei0saupuc",oauth:{},aws_cognito_username_attributes:["EMAIL"],aws_cognito_social_providers:[],aws_cognito_signup_attributes:["EMAIL"],aws_cognito_mfa_configuration:"OFF",aws_cognito_mfa_types:["SMS"],aws_cognito_password_protection_settings:{passwordPolicyMinLength:8,passwordPolicyCharacters:[]},aws_cognito_verification_mechanisms:["EMAIL"],aws_cloud_logic_custom:[{name:"AdminQueries",endpoint:"https://j76n0dio02.execute-api.us-east-1.amazonaws.com/dev",region:"us-east-1"}],aws_user_files_s3_bucket:"businesscardsfronted2723969cf54451b3a92ef0dc866160438-dev",aws_user_files_s3_bucket_region:"us-east-1"}),u=n(1);s.a.configure(d);var j=function(e,t){return Object(u.jsxs)("nav",{className:"navbar",children:[Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("h1",{children:"Business Cards"})}),Object(u.jsxs)("div",{className:"links",children:[Object(u.jsx)(i.b,{to:"/",children:"Home"}),Object(u.jsx)(i.b,{to:"/table",children:"Table"}),Object(u.jsx)(i.b,{to:"/create",style:{color:"white",backgroundColor:"#3867d5",borderRadius:"5px"},children:"New Card"}),Object(u.jsx)(l.a,{children:function(e){var t=e.signOut;e.user;return Object(u.jsx)("main",{children:Object(u.jsx)("button",{onClick:t,style:{color:"white",backgroundColor:"#c98104",borderRadius:"5px"},children:"Sign Out"})})}})]})]})},p=n(492),b=function(e){var t=e.cards,n=e.title;return Object(u.jsxs)("div",{className:"card-list",children:[Object(u.jsxs)("h2",{children:[n,":"]}),Array.isArray(t)?t.map((function(e){return Object(u.jsx)("div",{className:"card-preview",children:Object(u.jsxs)(i.b,{to:"/cards/".concat(e.id,"/").concat(e.sort),children:[Object(u.jsxs)("div",{className:"left",children:[Object(u.jsx)("h2",{children:e.cardName}),Object(u.jsx)("p",{children:e.jobTitle})]}),Object(u.jsx)("div",{className:"right",children:Object(u.jsx)(p.a,{imgKey:e.pictureName})})]})},e.id+e.sort)})):null]})},h=n(5),m=function(e){var t=Object(a.useState)(null),n=Object(h.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!0),i=Object(h.a)(o,2),s=i[0],l=i[1],d=Object(a.useState)(null),u=Object(h.a)(d,2),j=u[0],p=u[1];return Object(a.useEffect)((function(){var t=new AbortController;return setTimeout((function(){fetch(e,{signal:t.signal}).then((function(e){if(!e.ok)throw Error("Could not fetch data for that resource");return e.json()})).then((function(e){c(e),l(!1),p(null)})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(l(!1),p(e.message))}))}),0),function(){return t.abort()}}),[e]),{data:r,isPending:s,error:j}};s.a.configure(d);var O=function(){var e=m("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards",{method:"GET",headers:{"Content-Type":"application/json"}}),t=e.data,n=e.isPending,a=e.error;return Object(u.jsxs)("div",{className:"home",children:[a&&Object(u.jsx)("div",{children:a}),n&&Object(u.jsx)("div",{children:"Loading..."}),t&&Object(u.jsx)(b,{cards:t,title:"All Business Cards"})]})},g=n(18),x=n(8),f=n(7),y=n(17),v=n(451),N=n(452),C=n(493),S=n(55),w=n.n(S);s.a.configure(d);var k=function(){var e=Object(a.useState)({sort:"",cardName:"",age:"",dob:"",jobTitle:"",employer:"",cityState:"",email:"",phoneNumber:"",pictureName:""}),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),o=Object(h.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)(!1),d=Object(h.a)(l,2),j=d[0],p=d[1],b=Object(g.f)(),m=function(e){return new Promise((function(t){w.a.imageFileResizer(e,300,300,"JPEG",100,0,(function(e){t(e)}),"file")}))},O=function(){var e=Object(y.a)(Object(f.a)().mark((function e(t){var n,a;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(!0),n=t.target.files[0],e.next=5,m(n);case 5:a=e.sent,s(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log("Outside: ",i);var S=function(e){e.preventDefault();var t=e.target.getAttribute("name"),a=e.target.value,c=Object(x.a)({},n);c[t]=a,r(c)},k=function(){var e=Object(y.a)(Object(f.a)().mark((function e(t){var a,r,c,o,s,l,d;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=Object(C.a)(),console.log("pictureStatus:",j),console.log("picture: ",i),j){e.next=15;break}return console.log("pictureStatus false branch"),r={sort:a,cardName:n.cardName,age:n.age,dob:n.dob,jobTitle:n.jobTitle,employer:n.employer,cityState:n.cityState,email:n.email,phoneNumber:n.phoneNumber,pictureName:n.pictureName},e.next=9,v.a.currentSession().then((function(e){return e.idToken.jwtToken}));case 9:c=e.sent,console.log(c),fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+c},body:JSON.stringify(r)}).then((function(){console.log("New card added"),b.push("/")})).catch((function(e){return console.error(e)})),t.target.reset(),e.next=42;break;case 15:if(!j){e.next=42;break}return console.log("pictureStatus true branch"),e.next=19,v.a.currentAuthenticatedUser().then((function(e){return e.attributes.sub}));case 19:return o=e.sent,console.log("Start Image Upload"),e.prev=21,console.log("picture: ",i),e.next=25,N.a.put("".concat(o,"---").concat(a,".png"),i,{contentType:"image/png",progressCallback:function(e){console.log("Uploaded: ".concat(e.loaded,"/").concat(e.total))}});case 25:return s=e.sent,console.log(s),console.log(s.key),l={sort:a,cardName:n.cardName,age:n.age,dob:n.dob,jobTitle:n.jobTitle,employer:n.employer,cityState:n.cityState,email:n.email,phoneNumber:n.phoneNumber,pictureName:s.key},e.next=31,v.a.currentSession().then((function(e){return e.idToken.jwtToken}));case 31:d=e.sent,console.log(d),fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+d},body:JSON.stringify(l)}).then((function(){console.log("New card added"),b.push("/")})).catch((function(e){return console.error(e)})),t.target.reset(),e.next=41;break;case 37:e.prev=37,e.t0=e.catch(21),console.log("Image upload error:"),console.log(e.t0);case 41:t.target.reset();case 42:case"end":return e.stop()}}),e,null,[[21,37]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"create",children:[Object(u.jsx)("h2",{children:"Add a New Card"}),Object(u.jsxs)("form",{onSubmit:k,children:[Object(u.jsx)("label",{children:"Name:"}),Object(u.jsx)("input",{type:"text",name:"cardName",required:!0,placeholder:"Enter name...",onChange:S}),Object(u.jsx)("label",{children:"Age:"}),Object(u.jsx)("input",{type:"number",name:"age",min:17,max:99,onChange:S,placeholder:"Enter age..."}),Object(u.jsx)("label",{children:"Date of Birth:"}),Object(u.jsx)("input",{type:"date",name:"dob",placeholder:"Date of birth...",onChange:S}),Object(u.jsx)("label",{children:"Job Title:"}),Object(u.jsx)("input",{type:"text",name:"jobTitle",required:!0,placeholder:"Enter job title...",onChange:S}),Object(u.jsx)("label",{children:"Employer:"}),Object(u.jsx)("input",{type:"text",name:"employer",required:!0,placeholder:"Enter employer...",onChange:S}),Object(u.jsx)("label",{children:"City, State:"}),Object(u.jsx)("input",{type:"text",name:"cityState",placeholder:"Enter city and state...",onChange:S}),Object(u.jsx)("label",{children:"Email:"}),Object(u.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"Enter email...",onChange:S}),Object(u.jsx)("label",{children:"Phone Number:"}),Object(u.jsx)("input",{type:"tel",name:"phoneNumber",placeholder:"Enter phone number...",onChange:S}),Object(u.jsx)("input",{style:{display:"none"},type:"text",name:"pictureName",onChange:S}),Object(u.jsx)("label",{children:"Profile Picture:"}),Object(u.jsx)("input",{type:"file",name:"picture",placeholder:"Select Image",accept:"image/png, image/jpeg, image/jpg",onChange:O}),Object(u.jsx)("button",{type:"submit",children:"Add"})]})]})},T=function(e){var t=e.card,n=e.handleEditClick,a=(e.handleDeleteClick,e.handleDelete);return Object(u.jsx)("div",{className:"card-details",children:Object(u.jsxs)("div",{className:"output",children:[Object(u.jsxs)("div",{className:"left",children:[Object(u.jsx)("h2",{children:t.cardName}),Object(u.jsxs)("h3",{children:["Profession: ",t.jobTitle]}),Object(u.jsxs)("div",{children:["Employer: ",t.employer]}),Object(u.jsxs)("div",{children:["Age: ",t.age," years old"]}),Object(u.jsxs)("div",{children:["Date of Birth: ",t.dob]}),Object(u.jsxs)("div",{children:["City, State: ",t.cityState]}),Object(u.jsxs)("div",{children:["Email: ",t.email]}),Object(u.jsxs)("div",{children:["Phone Number: ",t.phoneNumber]})]}),Object(u.jsxs)("div",{className:"right",children:[Object(u.jsx)("div",{className:"right-top",children:Object(u.jsx)(p.a,{imgKey:t.pictureName})}),Object(u.jsxs)("div",{className:"right-bottom",children:[Object(u.jsx)("button",{className:"delete-btn",onClick:function(e){e.preventDefault(),a(),N.a.remove("".concat(t.pictureName))},children:"Delete"}),Object(u.jsx)("button",{className:"edit-btn",onClick:function(e){return n(e,t)},children:"Edit"})]})]})]})},t.id+t.sort)},E=function(e){e.card;var t=e.editFormData,n=e.handleEditFormChange,a=e.handleCancelClick,r=e.handlePictureChanged;return Object(u.jsxs)("div",{className:"create",children:[Object(u.jsx)("h2",{children:"Update Card"}),Object(u.jsx)("label",{children:"ID:"}),Object(u.jsx)("input",{type:"text",name:"id",value:t.id,readOnly:!0}),Object(u.jsx)("label",{children:"Sort:"}),Object(u.jsx)("input",{type:"text",name:"sort",value:t.sort,readOnly:!0}),Object(u.jsx)("label",{children:"Name:"}),Object(u.jsx)("input",{type:"text",name:"cardName",required:!0,placeholder:"Enter name...",value:t.cardName,onChange:n}),Object(u.jsx)("label",{children:"Age:"}),Object(u.jsx)("input",{type:"number",name:"age",min:17,max:99,placeholder:"Enter age...",value:t.age,onChange:n}),Object(u.jsx)("label",{children:"Date of Birth:"}),Object(u.jsx)("input",{type:"date",name:"dob",placeholder:"Enter date of birth...",value:t.dob,onChange:n}),Object(u.jsx)("label",{children:"Job Title:"}),Object(u.jsx)("input",{type:"text",name:"jobTitle",required:!0,placeholder:"Enter job title...",value:t.jobTitle,onChange:n}),Object(u.jsx)("label",{children:"Employer:"}),Object(u.jsx)("input",{type:"text",name:"employer",required:!0,placeholder:"Enter employer...",value:t.employer,onChange:n}),Object(u.jsx)("label",{children:"City, State:"}),Object(u.jsx)("input",{type:"text",name:"cityState",placeholder:"Enter city and state...",value:t.cityState,onChange:n}),Object(u.jsx)("label",{children:"Email:"}),Object(u.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"Enter email...",value:t.email,onChange:n}),Object(u.jsx)("label",{children:"Phone Number:"}),Object(u.jsx)("input",{type:"tel",name:"phoneNumber",placeholder:"Enter phone number...",value:t.phoneNumber,onChange:n}),Object(u.jsx)("label",{children:"Picture Name:"}),Object(u.jsx)("input",{type:"text",name:"pictureName",value:t.pictureName,onChange:n}),Object(u.jsx)("label",{children:"New Picture (Leave blank to retain picture):"}),Object(u.jsx)("input",{type:"file",name:"picture",placeholder:"Select Image",accept:"image/png, image/jpeg, image/jpg",onChange:r}),Object(u.jsx)("button",{className:"cancel-btn",type:"button",onClick:a,children:"Cancel"}),Object(u.jsx)("button",{type:"submit",children:"Save"})]})};s.a.configure(d);var P=function(){var e=Object(g.g)().id,t=Object(g.g)().sort,n=Object(g.f)(),r=e+t,c=Object(a.useState)(!1),o=Object(h.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)({id:"",sort:"",cardName:"x",age:"",dob:"",jobTitle:"",employer:"",cityState:"",email:"",phoneNumber:"",pictureName:""}),d=Object(h.a)(l,2),j=d[0],p=d[1],b=Object(a.useState)(!1),m=Object(h.a)(b,2),O=m[0],C=m[1],S=Object(a.useState)(),k=Object(h.a)(S,2),P=k[0],A=k[1],_=Object(a.useState)(!1),D=Object(h.a)(_,2),z=D[0],B=D[1],U=Object(a.useState)({id:"",sort:"",cardName:"",age:"",dob:"",jobTitle:"",employer:"",cityState:"",email:"",phoneNumber:"",pictureName:""}),q=Object(h.a)(U,2),F=q[0],I=q[1];Object(a.useEffect)((function(){J(),console.log(j)}),[]);var J=function(){var n=Object(y.a)(Object(f.a)().mark((function n(){var a,r;return Object(f.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards/"+e+"/"+t,{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return a=n.sent,n.next=5,a.json();case 5:r=n.sent,console.log(r),p(r),s(!0);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),L=function(e,t){e.preventDefault(),C(!0);var n={id:t.id,sort:t.sort,cardName:t.cardName,age:t.age,dob:t.dob,jobTitle:t.jobTitle,employer:t.employer,cityState:t.cityState,email:t.email,phoneNumber:t.phoneNumber,pictureName:t.pictureName};I(n)},R=function(e){e.preventDefault();var t=e.target.getAttribute("name"),n=e.target.value,a=Object(x.a)({},F);a[t]=n,I(a)},Q=function(e){return new Promise((function(t){w.a.imageFileResizer(e,300,300,"JPEG",100,0,(function(e){t(e)}),"file")}))},M=function(){var e=Object(y.a)(Object(f.a)().mark((function e(t){var n,a;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),B(!0),n=t.target.files[0],e.next=5,Q(n);case 5:a=e.sent,A(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(y.a)(Object(f.a)().mark((function e(t,a){var r,c,o,i,s;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(z),z){e.next=12;break}return r={id:F.id,sort:F.sort,cardName:F.cardName,age:F.age,dob:F.dob,jobTitle:F.jobTitle,employer:F.employer,cityState:F.cityState,email:F.email,phoneNumber:F.phoneNumber,pictureName:F.pictureName},e.next=6,v.a.currentSession().then((function(e){return e.idToken.jwtToken}));case 6:c=e.sent,console.log(c),fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards/".concat(F.id,"/").concat(F.sort),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+c},body:JSON.stringify(r)}).then((function(){console.log("Card Edited")})).catch((function(e){return console.error(e)})),C(!1),e.next=33;break;case 12:if(!z){e.next=33;break}return console.log("Start Image Upload"),e.prev=14,e.next=17,N.a.put("".concat(F.id,"---").concat(F.sort,".png"),P,{contentType:"image/png",progressCallback:function(e){console.log("Uploaded: ".concat(e.loaded,"/").concat(e.total))}});case 17:return o=e.sent,console.log(o),console.log(o.key),i={id:F.id,sort:F.sort,cardName:F.cardName,age:F.age,dob:F.dob,jobTitle:F.jobTitle,employer:F.employer,cityState:F.cityState,email:F.email,phoneNumber:F.phoneNumber,pictureName:o.key},e.next=23,v.a.currentSession().then((function(e){return e.idToken.jwtToken}));case 23:s=e.sent,console.log(s),fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards/".concat(F.id,"/").concat(F.sort),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s},body:JSON.stringify(i)}).then((function(){console.log("Card Edited")})).catch((function(e){return console.error(e)})),C(!1),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(14),console.log("Image upload error:"),console.log(e.t0);case 33:n.push("/"),setTimeout(window.location.reload(),2500);case 35:case"end":return e.stop()}}),e,null,[[14,29]])})));return function(t,n){return e.apply(this,arguments)}}(),K=function(){C(!1)},W=function(){var a=Object(y.a)(Object(f.a)().mark((function a(r){var c;return Object(f.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.currentSession().then((function(e){return e.idToken.jwtToken}));case 2:c=a.sent,console.log(c),fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards/"+e+"/"+t,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}}).then((function(){n.push("/")})).catch((function(e){return console.error(e)}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"card-details",children:[!i&&Object(u.jsx)("div",{children:"Loading..."}),i&&Object(u.jsx)("div",{children:Object(u.jsx)("form",{onSubmit:G,children:j.map((function(e){return Object(u.jsx)(a.Fragment,{children:!0===O?Object(u.jsx)(E,{editFormData:F,handleEditFormChange:R,pictureChange:P,handlePictureChanged:M,handleCancelClick:K},"Editable"+e.id+e.sort):Object(u.jsx)(T,{card:e,handleEditClick:L,handleDelete:W},e.id+e.sort)},"Fragment"+e.id+e.sort)}))})})]},r)},A=function(){var e=Object(g.g)().id,t=Object(g.g)().sort,n=Object(a.useState)({id:"",sort:"",cardName:"",age:"",dob:"",jobTitle:"",employer:"",cityState:"",email:"",phoneNumber:"",pictureName:""}),r=Object(h.a)(n,2),c=r[0],o=r[1];Object(a.useEffect)((function(){i()}),[]);var i=function(){var n=Object(y.a)(Object(f.a)().mark((function n(){var a,r;return Object(f.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards/"+e+"/"+t,{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return a=n.sent,n.next=5,a.json();case 5:return r=n.sent,n.next=8,o(r);case 8:console.log(c);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s=Object(a.useState)({id:"",sort:"",cardName:"",age:"",dob:"",jobTitle:"",employer:"",cityState:"",email:"",phoneNumber:"",pictureName:""}),l=Object(h.a)(s,2),d=l[0],j=l[1],p=Object(a.useState)(),b=Object(h.a)(p,2),m=b[0],O=b[1],C=Object(a.useState)(!1),S=Object(h.a)(C,2),w=S[0],k=S[1],T=function(e){e.preventDefault();var t=e.target.getAttribute("name"),n=e.target.value,a=Object(x.a)({},d);a[t]=n,j(a)},E=function(){var e=Object(y.a)(Object(f.a)().mark((function e(t,n){var a,r,c,o,i;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(w),w){e.next=11;break}return a={id:d.id,sort:d.sort,cardName:d.cardName,age:d.age,dob:d.dob,jobTitle:d.jobTitle,employer:d.employer,cityState:d.cityState,email:d.email,phoneNumber:d.phoneNumber,pictureName:d.pictureName},e.next=6,v.a.currentSession().then((function(e){return e.idToken.jwtToken}));case 6:r=e.sent,console.log(r),fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards/".concat(d.id,"/").concat(d.sort),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify(a)}).then((function(){console.log("Card Edited")})).catch((function(e){return console.error(e)})),e.next=31;break;case 11:if(!w){e.next=31;break}return console.log("Start Image Upload"),e.prev=13,e.next=16,N.a.put("".concat(d.id,"---").concat(d.sort,".png"),m,{contentType:"image/png",progressCallback:function(e){console.log("Uploaded: ".concat(e.loaded,"/").concat(e.total))}});case 16:return c=e.sent,console.log(c),console.log(c.key),o={id:d.id,sort:d.sort,cardName:d.cardName,age:d.age,dob:d.dob,jobTitle:d.jobTitle,employer:d.employer,cityState:d.cityState,email:d.email,phoneNumber:d.phoneNumber,pictureName:c.key},e.next=22,v.a.currentSession().then((function(e){return e.idToken.jwtToken}));case 22:i=e.sent,console.log(i),fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards/".concat(d.id,"/").concat(d.sort),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i},body:JSON.stringify(o)}).then((function(){console.log("Card Edited")})).catch((function(e){return console.error(e)})),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(13),console.log("Image upload error:"),console.log(e.t0);case 31:setTimeout(window.location.reload(),2500);case 32:case"end":return e.stop()}}),e,null,[[13,27]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"create",children:[Object(u.jsx)("h2",{children:"Update Card:"}),!c&&Object(u.jsx)("div",{children:"Loading..."}),c&&Object(u.jsxs)("article",{children:[Object(u.jsx)("p",{children:"Test"}),Object(u.jsx)("p",{children:c.cardName}),Object(u.jsx)("p",{children:c.cardName}),Object(u.jsxs)("form",{onSubmit:E,children:[Object(u.jsx)("input",{type:"text",name:"id",value:d.id,readOnly:!0}),Object(u.jsx)("input",{type:"text",name:"sort",value:d.sort,readOnly:!0}),Object(u.jsx)("input",{type:"text",name:"cardName",required:!0,placeholder:"Enter name...",value:d.card,onChange:T}),Object(u.jsx)("input",{type:"number",name:"age",min:17,max:99,placeholder:"Enter age...",value:d.age,onChange:T}),Object(u.jsx)("input",{type:"date",name:"dob",placeholder:"Enter date of birth...",value:d.dob,onChange:T}),Object(u.jsx)("input",{type:"text",name:"jobTitle",required:!0,placeholder:"Enter job title...",value:d.jobTitle,onChange:T}),Object(u.jsx)("input",{type:"text",name:"employer",required:!0,placeholder:"Enter employer...",value:d.employer,onChange:T}),Object(u.jsx)("input",{type:"text",name:"cityState",placeholder:"Enter city and state...",value:d.cityState,onChange:T}),Object(u.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"Enter email...",value:d.email,onChange:T}),Object(u.jsx)("input",{type:"tel",name:"phoneNumber",placeholder:"Enter phone number...",value:d.phoneNumber,onChange:T}),Object(u.jsx)("input",{type:"text",name:"pictureName",value:d.pictureName,onChange:T}),Object(u.jsx)("input",{type:"file",name:"picture",placeholder:"Select Image",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){e.preventDefault(),k(!0);var t=e.target.files[0];O(t)}}),Object(u.jsx)("button",{type:"submit",children:"Save"})]})]},1)]})},_=n(25),D=function(e){var t=e.card,n=e.handleEditClick,a=(e.handleDeleteClick,e.handleDelete);return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"long",children:t.id}),Object(u.jsx)("td",{className:"long",children:t.sort}),Object(u.jsx)("td",{children:t.cardName}),Object(u.jsx)("td",{children:t.age}),Object(u.jsx)("td",{children:t.dob}),Object(u.jsx)("td",{children:t.jobTitle}),Object(u.jsx)("td",{children:t.employer}),Object(u.jsx)("td",{children:t.cityState}),Object(u.jsx)("td",{children:t.email}),Object(u.jsx)("td",{children:t.phoneNumber}),Object(u.jsx)("td",{className:"long",children:t.pictureName}),Object(u.jsx)("td",{className:"table-image",children:Object(u.jsx)(p.a,{imgKey:t.pictureName})}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{className:"edit-btn",type:"button",onClick:function(e){return n(e,t)},children:"Edit"}),Object(u.jsx)("button",{className:"delete-btn",type:"button",onClick:function(e){e.preventDefault(),a(e,t),N.a.remove("".concat(t.pictureName))},children:"Delete"})," "]})]},t.id+t.sort)},z=function(e){e.card;var t=e.editFormData,n=e.handleEditFormChange,a=e.handleCancelClick,r=e.handlePictureChanged;return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"id",value:t.id,readOnly:!0})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"sort",value:t.sort,readOnly:!0})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"cardName",required:!0,placeholder:"Enter name...",value:t.cardName,onChange:n})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"number",name:"age",min:17,max:99,placeholder:"Enter age...",value:t.age,onChange:n})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"date",name:"dob",placeholder:"Enter date of birth...",value:t.dob,onChange:n})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"jobTitle",required:!0,placeholder:"Enter job title...",value:t.jobTitle,onChange:n})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"employer",required:!0,placeholder:"Enter employer...",value:t.employer,onChange:n})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"cityState",placeholder:"Enter city and state...",value:t.cityState,onChange:n})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"Enter email...",value:t.email,onChange:n})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"tel",name:"phoneNumber",placeholder:"Enter phone number...",value:t.phoneNumber,onChange:n})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"pictureName",value:t.pictureName,onChange:n})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"file",name:"picture",placeholder:"Select Image",accept:"image/png, image/jpeg, image/jpg",onChange:r})}),Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{className:"cancel-btn",type:"button",onClick:a,children:"Cancel"}),Object(u.jsx)("button",{className:"save-btn table-btn-margin-left",type:"submit",children:"Save"})]})]})},B=n(107),U=(B.a.button({backgroundColor:"transparent",borderBottomWidth:0,borderLeftWidth:0,borderRightWidth:0,borderTopWidth:0,fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontWeight:"inherit",lineHeight:"inherit",paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0}),B.a.span({border:"0 !important",clip:"rect(1px, 1px, 1px, 1px) !important",height:"1px !important",overflow:"hidden !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important",paddingTop:"0 !important",position:"absolute !important",whiteSpace:"nowrap !important",width:"1px !important"}),function(e,t){var n=t.sortBy,a=t.direction;return e.sort((function(e,t){return e[n].toLowerCase()<t[n].toLowerCase()?"ascending"===a?-1:1:e[n].toLowerCase()>t[n].toLowerCase()?"ascending"===a?1:-1:0}))}),q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAkElEQVQoz7XQMQ5AQBCF4dWQSJxC5wwax1Cq1e7BAdxD5SL+Tq/QCM1oNiJidwox0355mXnG/DrEtIQ6azioNZQxI0ykPhTQIwhCR+BmBYtlK7kLJYwWCcJA9M4qdrZrd8pPjZWPtOqdRQy320YSV17OatFC4euts6z39GYMKRPCTKY9UnPQ6P+GtMRfGtPnBCiqhAeJPmkqAAAAAElFTkSuQmCC";s.a.configure(d);var F=function(e){var t=e.sortConfig,n=Object(a.useState)([]),r=Object(h.a)(n,2),c=r[0],o=r[1];Object(a.useEffect)((function(){i()}),[]);var i=function(){var e=Object(y.a)(Object(f.a)().mark((function e(){var t,n;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,o(n),de(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=Object(a.useState)({sort:"",cardName:"",age:"",dob:"",jobTitle:"",employer:"",cityState:"",email:"",phoneNumber:"",pictureName:""}),l=Object(h.a)(s,2),d=l[0],j=l[1],p=Object(a.useState)({id:"",sort:"",cardName:"",age:"",dob:"",jobTitle:"",employer:"",cityState:"",email:"",phoneNumber:"",pictureName:""}),b=Object(h.a)(p,2),m=b[0],O=b[1],g=Object(a.useState)(null),S=Object(h.a)(g,2),k=S[0],T=S[1],E=Object(a.useState)(),P=Object(h.a)(E,2),A=P[0],B=P[1],F=Object(a.useState)(!1),I=Object(h.a)(F,2),J=I[0],L=I[1],R=Object(a.useState)(),Q=Object(h.a)(R,2),M=Q[0],G=Q[1],K=Object(a.useState)(!1),W=Object(h.a)(K,2),Y=W[0],H=W[1],V=function(e){return new Promise((function(t){w.a.imageFileResizer(e,300,300,"JPEG",100,0,(function(e){t(e)}),"file")}))},Z=function(){var e=Object(y.a)(Object(f.a)().mark((function e(t){var n,a;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),L(!0),n=t.target.files[0],e.next=5,V(n);case 5:a=e.sent,B(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(e){e.preventDefault();var t=e.target.getAttribute("name"),n=e.target.value,a=Object(x.a)({},d);a[t]=n,j(a)},$=function(e){e.preventDefault();var t=e.target.getAttribute("name"),n=e.target.value,a=Object(x.a)({},m);a[t]=n,O(a)},ee=function(){var e=Object(y.a)(Object(f.a)().mark((function e(t){var n,a;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),H(!0),n=t.target.files[0],e.next=5,V(n);case 5:a=e.sent,G(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(y.a)(Object(f.a)().mark((function e(t){var n,a,r,i,s,l,u,j,p;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=Object(C.a)(),J){e.next=14;break}return a={sort:n,cardName:d.cardName,age:d.age,dob:d.dob,jobTitle:d.jobTitle,employer:d.employer,cityState:d.cityState,email:d.email,phoneNumber:d.phoneNumber,pictureName:d.pictureName},e.next=6,v.a.currentSession().then((function(e){return e.idToken.jwtToken}));case 6:r=e.sent,console.log(r),fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify(a)}).then((function(){console.log("New card added")})).catch((function(e){return console.error(e)})),i=[].concat(Object(_.a)(c),[a]),o(i),t.target.reset(),e.next=41;break;case 14:if(!J){e.next=41;break}return e.next=17,v.a.currentAuthenticatedUser().then((function(e){return e.attributes.sub}));case 17:return s=e.sent,console.log("Start Image Upload"),e.prev=19,e.next=22,N.a.put("".concat(s,"---").concat(n,".png"),A,{contentType:"image/png",progressCallback:function(e){console.log("Uploaded: ".concat(e.loaded,"/").concat(e.total))}});case 22:return l=e.sent,console.log(l),console.log(l.key),u={sort:n,cardName:d.cardName,age:d.age,dob:d.dob,jobTitle:d.jobTitle,employer:d.employer,cityState:d.cityState,email:d.email,phoneNumber:d.phoneNumber,pictureName:l.key},e.next=28,v.a.currentSession().then((function(e){return e.idToken.jwtToken}));case 28:j=e.sent,console.log(j),fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+j},body:JSON.stringify(u)}).then((function(){console.log("New card added")})).catch((function(e){return console.error(e)})),p=[].concat(Object(_.a)(c),[u]),o(p),t.target.reset(),e.next=40;break;case 36:e.prev=36,e.t0=e.catch(19),console.log("Image upload error:"),console.log(e.t0);case 40:t.target.reset();case 41:setTimeout(window.location.reload(),5e3);case 42:case"end":return e.stop()}}),e,null,[[19,36]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(y.a)(Object(f.a)().mark((function e(t,n){var a,r,i,s,l,d,u,j,p;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(Y),Y){e.next=16;break}return a={id:m.id,sort:m.sort,cardName:m.cardName,age:m.age,dob:m.dob,jobTitle:m.jobTitle,employer:m.employer,cityState:m.cityState,email:m.email,phoneNumber:m.phoneNumber,pictureName:m.pictureName},e.next=6,v.a.currentSession().then((function(e){return e.idToken.jwtToken}));case 6:r=e.sent,console.log(r),fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards/".concat(m.id,"/").concat(m.sort),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify(a)}).then((function(){console.log("Card Edited")})).catch((function(e){return console.error(e)})),i=Object(_.a)(c),s=c.findIndex((function(e){return e.id===k})),i[s]=a,o(i),T(null),e.next=41;break;case 16:if(!Y){e.next=41;break}return console.log("Start Image Upload"),e.prev=18,e.next=21,N.a.put("".concat(m.id,"---").concat(m.sort,".png"),M,{contentType:"image/png",progressCallback:function(e){console.log("Uploaded: ".concat(e.loaded,"/").concat(e.total))}});case 21:return l=e.sent,console.log(l),console.log(l.key),d={id:m.id,sort:m.sort,cardName:m.cardName,age:m.age,dob:m.dob,jobTitle:m.jobTitle,employer:m.employer,cityState:m.cityState,email:m.email,phoneNumber:m.phoneNumber,pictureName:l.key},e.next=27,v.a.currentSession().then((function(e){return e.idToken.jwtToken}));case 27:u=e.sent,console.log(u),fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards/".concat(m.id,"/").concat(m.sort),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+u},body:JSON.stringify(d)}).then((function(){console.log("Card Edited")})).catch((function(e){return console.error(e)})),j=Object(_.a)(c),p=c.findIndex((function(e){return e.id===k})),j[p]=d,o(j),T(null),e.next=41;break;case 37:e.prev=37,e.t0=e.catch(18),console.log("Image upload error:"),console.log(e.t0);case 41:setTimeout(window.location.reload(),2500);case 42:case"end":return e.stop()}}),e,null,[[18,37]])})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(e,t){e.preventDefault(),T(t.id+t.sort);var n={id:t.id,sort:t.sort,cardName:t.cardName,age:t.age,dob:t.dob,jobTitle:t.jobTitle,employer:t.employer,cityState:t.cityState,email:t.email,phoneNumber:t.phoneNumber,pictureName:t.pictureName};O(n)},re=function(){T(null)},ce=function(){var e=Object(y.a)(Object(f.a)().mark((function e(t,n){var a;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n.id),console.log(n.sort),e.next=5,v.a.currentSession().then((function(e){return e.idToken.jwtToken}));case 5:return a=e.sent,console.log(a),e.next=9,fetch("https://029pp6rcv1.execute-api.us-east-1.amazonaws.com/Prod/cards/"+n.id+"/"+n.sort,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).then((function(){setTimeout(window.location.reload(),2500)})).catch((function(e){return console.error(e)}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(e){var t=Object(_.a)(c),n=c.findIndex((function(t){return t.id===e}));t.splice(n,1),o(t)},ie=((null===t||void 0===t?void 0:t.sortBy)&&U(c,t),Object(a.useState)([])),se=Object(h.a)(ie,2),le=se[0],de=se[1],ue=Object(a.useState)(),je=Object(h.a)(ue,2),pe=je[0],be=je[1],he=Object(a.useState)(),me=Object(h.a)(he,2),Oe=me[0],ge=me[1],xe=((t||{}).showSortUi,function(e){e.preventDefault(),console.log("clicked");var t="descending"===pe?"ascending":"descending";console.log("sortDirection: ",t),be(t),console.log("Direction: ",pe),ge(e.target.id),console.log("SortBy: ",Oe);var n={sortBy:e.target.id,direction:t};console.log("sortConfig: ",n),de(U(c,n)),console.log("sortedCards: ",le)});return Object(u.jsxs)("div",{className:"table",children:[Object(u.jsx)("h2",{children:"Table:"}),!c&&Object(u.jsx)("div",{children:"Loading..."}),c&&Object(u.jsx)("form",{onSubmit:ne,children:Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Card Creator (PK)"}),Object(u.jsx)("th",{children:"Card Sort (SK)"}),Object(u.jsx)("th",{children:"Name"}),Object(u.jsxs)("th",{children:["Age",Object(u.jsx)("button",{direction:pe,id:"age",className:"btn-image",onClick:xe,children:Object(u.jsx)("img",{src:q,alt:"Cannot display sort arrows",id:"age"})})]}),Object(u.jsx)("th",{children:"Date of Birth"}),Object(u.jsxs)("th",{children:["Job Title",Object(u.jsx)("button",{direction:pe,id:"jobTitle",className:"btn-image",onClick:xe,children:Object(u.jsx)("img",{src:q,alt:"Cannot display sort arrows",id:"jobTitle"})})]}),Object(u.jsxs)("th",{children:["Employer",Object(u.jsx)("button",{direction:pe,id:"employer",className:"btn-image",onClick:xe,children:Object(u.jsx)("img",{src:q,alt:"Cannot display sort arrows",id:"employer"})})]}),Object(u.jsxs)("th",{children:["City, State",Object(u.jsx)("button",{direction:pe,id:"cityState",className:"btn-image",onClick:xe,children:Object(u.jsx)("img",{src:q,alt:"Cannot display sort arrows",id:"cityState"})})]}),Object(u.jsx)("th",{children:"Email"}),Object(u.jsx)("th",{children:"Phone Number"}),Object(u.jsx)("th",{children:"Profile Picture Name"}),Object(u.jsx)("th",{children:"Profile Picture"}),Object(u.jsx)("th",{children:"Actions"})]})}),Object(u.jsx)("tbody",{children:le.map((function(e){return Object(u.jsx)(a.Fragment,{children:k===e.id+e.sort?Object(u.jsx)(z,{editFormData:m,handleEditFormChange:$,pictureChange:M,handlePictureChanged:ee,handleCancelClick:re},"Editable"+e.id+e.sort):Object(u.jsx)(D,{card:e,handleDelete:ce,handleEditClick:ae,handleDeleteClick:oe},e.id+e.sort)},"Fragment"+e.id+e.sort)}))})]})}),Object(u.jsx)("h2",{children:"Add Card"}),Object(u.jsx)("div",{className:"add-form",children:Object(u.jsxs)("form",{onSubmit:te,children:[Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("label",{children:"Name:"}),Object(u.jsx)("input",{type:"text",name:"cardName",required:!0,placeholder:"Enter name...",onChange:X})]}),Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("label",{children:"Age:"}),Object(u.jsx)("input",{type:"number",name:"age",min:17,max:99,onChange:X,placeholder:"Enter age..."})]}),Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("label",{children:"Date of Birth:"}),Object(u.jsx)("input",{type:"date",name:"dob",placeholder:"Date of birth...",onChange:X})]}),Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("label",{children:"Job Title:"}),Object(u.jsx)("input",{type:"text",name:"jobTitle",required:!0,placeholder:"Enter job title...",onChange:X})]}),Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("label",{children:"Employer:"}),Object(u.jsx)("input",{type:"text",name:"employer",required:!0,placeholder:"Enter employer...",onChange:X})]}),Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("label",{children:"City, State:"}),Object(u.jsx)("input",{type:"text",name:"cityState",placeholder:"Enter city and state...",onChange:X})]}),Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("label",{children:"Email:"}),Object(u.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"Enter email...",onChange:X})]}),Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("label",{children:"Phone Number:"}),Object(u.jsx)("input",{type:"tel",name:"phoneNumber",placeholder:"Enter phone number...",onChange:X})]}),Object(u.jsx)("div",{className:"",children:Object(u.jsx)("input",{style:{display:"none"},type:"text",name:"pictureName",onChange:X})}),Object(u.jsxs)("div",{className:"input-field",children:[Object(u.jsx)("label",{children:"Profile Picture:"}),Object(u.jsx)("input",{type:"file",name:"picture",placeholder:"Select Image",accept:"image/png, image/jpeg, image/jpg",onChange:Z})]}),Object(u.jsx)("button",{className:"edit-btn",type:"submit",children:"Add"})]})})]})},I=function(){return Object(u.jsxs)("div",{className:"not-found",children:[Object(u.jsx)("h2",{children:"Sorry"}),Object(u.jsx)("p",{children:"That page cannot be found"}),Object(u.jsx)(i.b,{to:"/",children:"Back to the homepage..."})]})},J=n(54),L=n(19),R=new L.g({UserPoolId:"us-east-1_BevsnL9Sg",ClientId:"5eg5cb8q20eopnac4k3d4ipk5j"}),Q=Object(a.createContext)(),M=function(e){var t=function(){var e=Object(y.a)(Object(f.a)().mark((function e(){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var n=R.getCurrentUser();n?n.getSession(function(){var a=Object(y.a)(Object(f.a)().mark((function a(r,c){var o;return Object(f.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!r){a.next=4;break}t(),a.next=8;break;case 4:return a.next=6,new Promise((function(e,t){n.getUserAttributes((function(n,a){if(n)t(n);else{var r,c={},o=Object(J.a)(a);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=i.Name,l=i.Value;c[s]=l}}catch(n){o.e(n)}finally{o.f()}e(a)}}))}));case 6:o=a.sent,e(Object(x.a)(Object(x.a)({user:n},c),o));case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()):t()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(y.a)(Object(f.a)().mark((function e(t,n){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){var r=new L.e({Username:t,Pool:R}),c=new L.a({Username:t,Password:n});r.authenticateUser(c,{onSuccess:function(t){console.log("onSuccess:",t),e(t)},onFailure:function(e){console.error("onFailure:",e),a(e)},newPasswordRequired:function(t){console.log("newPasswordRequired:",t),e(t)}})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(u.jsx)(Q.Provider,{value:{authenticate:n,getSession:t,logout:function(){var e=R.getCurrentUser();e&&e.signOut()}},children:e.children})},G=n(490);s.a.configure(d);var K=Object(G.a)((function(e){return e.signOut,e.user,Object(u.jsx)(i.a,{children:Object(u.jsx)(M,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(j,{}),Object(u.jsx)("div",{className:"content",children:Object(u.jsxs)(g.c,{children:[Object(u.jsx)(g.a,{exact:!0,path:"/",children:Object(u.jsx)(O,{})}),Object(u.jsx)(g.a,{path:"/table",children:Object(u.jsx)(F,{})}),Object(u.jsx)(g.a,{path:"/create",children:Object(u.jsx)(k,{})}),Object(u.jsx)(g.a,{path:"/cards/:id/:sort",children:Object(u.jsx)(P,{})}),Object(u.jsx)(g.a,{exact:!0,path:"/update/:id/:sort",children:Object(u.jsx)(A,{})}),Object(u.jsx)(g.a,{path:"*",children:Object(u.jsx)(I,{})})]})})]})})})})),W=function(e){e&&e instanceof Function&&n.e(36).then(n.bind(null,513)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.createRoot(document.getElementById("root")).render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(K,{})})),W()}},[[447,3,4]]]);
//# sourceMappingURL=main.780c28e5.chunk.js.map